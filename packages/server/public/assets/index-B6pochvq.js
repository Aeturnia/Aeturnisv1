var D=Object.defineProperty;var R=(t,n,i)=>n in t?D(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i;var P=(t,n,i)=>R(t,typeof n!="symbol"?n+"":n,i);import{j as e,Q as H,a as q}from"./query-vendor-VBf2NspY.js";import{r as h,u as $,a as W,b as z,c as j,N as L,B as F}from"./router-vendor-Cn6bChYk.js";import{a as B}from"./react-vendor-BtP0CW_r.js";import{u as G}from"./gesture-vendor-CKK3uJth.js";import{m as d,A as U}from"./motion-vendor-CD8PLs6k.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function i(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=i(s);fetch(s.href,l)}})();var w={},I;function V(){if(I)return w;I=1;var t=B();return w.createRoot=t.createRoot,w.hydrateRoot=t.hydrateRoot,w}var Q=V();const X={lockPortrait:!1,adaptiveUI:!0,transitionDuration:300},A=(t={})=>{const n={...X,...t},[i,o]=h.useState("portrait"),[s,l]=h.useState(!1);return h.useEffect(()=>{const x=()=>{l(!0);const u=window.innerHeight>window.innerWidth;o(u?"portrait":"landscape"),setTimeout(()=>{l(!1)},n.transitionDuration)};return x(),window.addEventListener("orientationchange",x),window.addEventListener("resize",x),()=>{window.removeEventListener("orientationchange",x),window.removeEventListener("resize",x)}},[n.transitionDuration]),{orientation:i,isTransitioning:s,isPortrait:i==="portrait",isLandscape:i==="landscape",lockPortrait:async()=>{if("screen"in window&&"orientation"in window.screen)try{return await window.screen.orientation.lock("portrait-primary"),!0}catch(x){return console.warn("Orientation lock not supported:",x),!1}return!1},unlockOrientation:()=>{if("screen"in window&&"orientation"in window.screen)try{return window.screen.orientation.unlock(),!0}catch(x){return console.warn("Orientation unlock not supported:",x),!1}return!1},getOrientationStyles:()=>({transition:`all ${n.transitionDuration}ms ease-in-out`,opacity:s?.8:1}),saveOrientationPreference:x=>{localStorage.setItem("aeturnis-orientation-preference",x)},loadOrientationPreference:()=>localStorage.getItem("aeturnis-orientation-preference")}},N={sm:375,md:768,lg:1024,xl:1280},Y=()=>{const[t,n]=h.useState("xs");return h.useEffect(()=>{const i=()=>{const o=window.innerWidth;o>=N.xl?n("xl"):o>=N.lg?n("lg"):o>=N.md?n("md"):o>=N.sm?n("sm"):n("xs")};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),t},S=()=>{const t=Y();return t==="xs"||t==="sm"},Z=()=>({paddingTop:"var(--safe-area-inset-top)",paddingRight:"var(--safe-area-inset-right)",paddingBottom:"var(--safe-area-inset-bottom)",paddingLeft:"var(--safe-area-inset-left)"}),K={swipeThreshold:50,tapDelay:300,doubleTapWindow:300,pinchZoomEnabled:!0,dragScrollEnabled:!0},v=(t,n={})=>{const i={...K,...n},[o,s]=h.useState(0),[l,a]=h.useState(!1),r=G({onClick:({event:m,timeStamp:c})=>{var f,g;m.preventDefault();const x=c;x-o<i.doubleTapWindow?(f=t.onDoubleTap)==null||f.call(t,{point:[m.clientX,m.clientY]}):(g=t.onTap)==null||g.call(t,{point:[m.clientX,m.clientY]}),s(x)},onPointerDown:({event:m,timeStamp:c})=>{var f,g;const x=setTimeout(()=>{var y;(y=t.onLongPress)==null||y.call(t,{point:[m.clientX,m.clientY]})},i.tapDelay),u=()=>clearTimeout(x);(f=m.target)==null||f.addEventListener("pointerup",u,{once:!0}),(g=m.target)==null||g.addEventListener("pointermove",u,{once:!0})},onDrag:({movement:m,velocity:c,direction:x,active:u})=>{var f,g;i.dragScrollEnabled&&((f=t.onDrag)==null||f.call(t,{movement:m,velocity:c}),x[1]>0&&m[1]>100&&!u?(a(!1),(g=t.onPullToRefresh)==null||g.call(t)):x[1]>0&&m[1]>50?a(!0):a(!1))},onDragEnd:({movement:m,velocity:c,direction:x})=>{var T,C,E,M;const[u,f]=m,[g,y]=c;(Math.abs(u)>i.swipeThreshold||Math.abs(g)>.5)&&(u>0&&u>Math.abs(f)?(T=t.onSwipeRight)==null||T.call(t,{distance:u,velocity:g}):u<0&&Math.abs(u)>Math.abs(f)&&((C=t.onSwipeLeft)==null||C.call(t,{distance:Math.abs(u),velocity:Math.abs(g)}))),(Math.abs(f)>i.swipeThreshold||Math.abs(y)>.5)&&(f>0&&f>Math.abs(u)?(E=t.onSwipeDown)==null||E.call(t,{distance:f,velocity:y}):f<0&&Math.abs(f)>Math.abs(u)&&((M=t.onSwipeUp)==null||M.call(t,{distance:Math.abs(f),velocity:Math.abs(y)})))},onPinch:({offset:[m],origin:c})=>{var x;i.pinchZoomEnabled&&((x=t.onPinch)==null||x.call(t,{scale:m,origin:c}))}},{drag:{threshold:10,filterTaps:!0},pinch:{scaleBounds:{min:.5,max:3},rubberband:!0}}),b=h.useCallback((m="light")=>{if("vibrate"in navigator){const c={light:10,medium:25,heavy:50};navigator.vibrate(c[m])}},[]);return{gestureHandler:r,isPulling:l,hapticFeedback:b}},O=[{id:"game",path:"/game",label:"Game",icon:"âš”ï¸",description:"Main game area"},{id:"inventory",path:"/inventory",label:"Inventory",icon:"ðŸŽ’",description:"Items & equipment"},{id:"character",path:"/character",label:"Character",icon:"ðŸ‘¤",description:"Stats & progression"},{id:"map",path:"/map",label:"Map",icon:"ðŸ—ºï¸",description:"World exploration"},{id:"settings",path:"/settings",label:"Settings",icon:"âš™ï¸",description:"Game settings"}];function J(){const t=$(),n=W(),[i,o]=h.useState(()=>{var r;const a=t.pathname;return((r=O.find(b=>b.path===a))==null?void 0:r.id)||"game"}),{hapticFeedback:s}=v({onTap:()=>{s("light")}}),l=a=>{a.id!==i&&(s("light"),o(a.id),n(a.path))};return e.jsx("nav",{className:"bg-dark-800 border-t border-dark-700 safe-area-padding",children:e.jsx("div",{className:"flex justify-around items-center h-16",children:O.map(a=>{const r=i===a.id;return e.jsxs(d.button,{onClick:()=>l(a),className:`
                flex flex-col items-center justify-center p-2 rounded-lg
                min-w-touch min-h-touch relative transition-all duration-150
                ${r?"text-primary-400":"text-dark-400 hover:text-dark-300"}
                active:scale-95 focus:outline-none focus:ring-2 focus:ring-primary-500
                no-tap-highlight touch-manipulation
              `,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":a.description,children:[e.jsx("div",{className:"text-xl mb-1",children:a.icon}),e.jsx("div",{className:"text-xs font-medium",children:a.label}),r&&e.jsx(d.div,{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-primary-400 rounded-full",layoutId:"activeIndicator",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2}}),a.id==="inventory"&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full text-xs flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})]},a.id)})})})}function _({showBackButton:t=!1,onBackClick:n,title:i,rightActions:o}){const s=$();S();const[l,a]=h.useState(!1),{hapticFeedback:r}=v({onTap:()=>{r("light")}}),b=()=>i||{"/game":"Aeturnis Online","/inventory":"Inventory","/character":"Character","/map":"World Map","/settings":"Settings"}[s.pathname]||"Aeturnis Online",m=()=>{r("light"),a(!l)},c=()=>{r("light"),n?n():window.history.back()};return e.jsxs("header",{className:"bg-dark-800 border-b border-dark-700 safe-area-padding",children:[e.jsxs("div",{className:"flex items-center justify-between h-14 px-4",children:[e.jsx("div",{className:"flex items-center",children:t?e.jsx(d.button,{onClick:c,className:"btn-touch btn-secondary mr-2",whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":"Go back",children:e.jsx("span",{className:"text-lg",children:"â†"})}):e.jsx(d.button,{onClick:m,className:"btn-touch btn-secondary mr-2",whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":"Menu",children:e.jsx("span",{className:"text-lg",children:"â˜°"})})}),e.jsx("div",{className:"flex-1 text-center",children:e.jsx("h1",{className:"text-lg font-bold text-white text-shadow truncate",children:b()})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[o,e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-dark-400",children:"Online"})]})]})]}),l&&e.jsx(d.div,{className:"fixed inset-0 bg-dark-900 bg-opacity-50 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>a(!1),children:e.jsx(d.div,{className:"absolute top-0 left-0 w-64 h-full bg-dark-800 shadow-lg",initial:{x:-256},animate:{x:0},exit:{x:-256},transition:{type:"spring",damping:25,stiffness:200},children:e.jsxs("div",{className:"p-4 safe-area-padding",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Menu"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{className:"w-full text-left p-3 rounded-lg hover:bg-dark-700 text-white",children:"Profile"}),e.jsx("button",{className:"w-full text-left p-3 rounded-lg hover:bg-dark-700 text-white",children:"Achievements"}),e.jsx("button",{className:"w-full text-left p-3 rounded-lg hover:bg-dark-700 text-white",children:"Friends"}),e.jsx("button",{className:"w-full text-left p-3 rounded-lg hover:bg-dark-700 text-white",children:"Help"})]})]})})})]})}function ee({children:t,className:n=""}){const i=Z();return e.jsx("div",{className:`min-h-screen ${n}`,style:i,children:t})}function te(){return e.jsx("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center",children:e.jsxs(d.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx(d.div,{className:"text-6xl mb-4",animate:{scale:[1,1.1,1],rotate:[0,180,360]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"âš”ï¸"}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Aeturnis Online"}),e.jsx("p",{className:"text-dark-400 mb-6",children:"Loading your adventure..."}),e.jsx("div",{className:"w-48 h-2 bg-dark-700 rounded-full overflow-hidden",children:e.jsx(d.div,{className:"h-full bg-primary-500 rounded-full",initial:{width:0},animate:{width:"100%"},transition:{duration:1.5,ease:"easeOut"}})}),e.jsx("div",{className:"flex justify-center space-x-1 mt-4",children:[0,1,2].map(t=>e.jsx(d.div,{className:"w-2 h-2 bg-primary-500 rounded-full",animate:{opacity:[.3,1,.3],scale:[.8,1.2,.8]},transition:{duration:1.5,repeat:1/0,delay:t*.2}},t))})]})})}class se extends h.Component{constructor(i){super(i);P(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,o){console.error("ErrorBoundary caught an error:",i,o),this.setState({error:i,errorInfo:o})}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center p-4",children:e.jsxs(d.div,{className:"text-center max-w-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("div",{className:"text-6xl mb-4",children:"âš ï¸"}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-dark-400 mb-6",children:"The game encountered an unexpected error. Please try again."}),!1,e.jsxs("div",{className:"space-y-3",children:[e.jsx(d.button,{onClick:this.handleRetry,className:"btn-touch btn-primary w-full",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Try Again"}),e.jsx(d.button,{onClick:()=>window.location.reload(),className:"btn-touch btn-secondary w-full",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Reload Game"})]})]})}):this.props.children}}function ae(){const[t,n]=h.useState({x:50,y:50}),[i,o]=h.useState(!0),s=S(),{gestureHandler:l,hapticFeedback:a}=v({onTap:({point:r})=>{a("light"),console.log("Tap at:",r)},onDoubleTap:({point:r})=>{a("medium"),console.log("Double tap at:",r)},onSwipeUp:({distance:r})=>{a("light"),console.log("Swipe up:",r)},onSwipeDown:({distance:r})=>{a("light"),console.log("Swipe down:",r)},onSwipeLeft:({distance:r})=>{a("light"),console.log("Swipe left:",r)},onSwipeRight:({distance:r})=>{a("light"),console.log("Swipe right:",r)},onPullToRefresh:()=>{a("medium"),console.log("Pull to refresh")}});return h.useEffect(()=>{const r=setInterval(()=>{o(Math.random()>.1)},3e3);return()=>clearInterval(r)},[]),e.jsxs(d.div,{className:"h-full bg-gradient-to-b from-dark-800 to-dark-900 relative overflow-hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},...l(),children:[e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-900/20 to-green-900/20",children:[e.jsx(d.div,{className:"absolute w-8 h-8 bg-primary-500 rounded-full border-2 border-white shadow-lg",style:{left:`${t.x}%`,top:`${t.y}%`},animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),e.jsx("div",{className:"absolute bottom-10 left-10 w-6 h-6 bg-green-600 rounded-full opacity-60"}),e.jsx("div",{className:"absolute bottom-20 right-15 w-4 h-4 bg-brown-600 rounded-full opacity-60"}),e.jsx("div",{className:"absolute top-20 left-20 w-5 h-5 bg-gray-600 rounded-full opacity-60"})]}),e.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-red-400 text-sm",children:"â¤ï¸"}),e.jsx("div",{className:"w-24 h-2 bg-dark-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:"85%"}})}),e.jsx("span",{className:"text-xs text-white",children:"85/100"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-blue-400 text-sm",children:"ðŸ’§"}),e.jsx("div",{className:"w-24 h-2 bg-dark-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"60%"}})}),e.jsx("span",{className:"text-xs text-white",children:"60/100"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${i?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"text-xs text-white",children:i?"Online":"Offline"})]})]}),e.jsxs("div",{className:"absolute bottom-20 right-4 flex flex-col space-y-2",children:[e.jsx(d.button,{className:"btn-touch bg-red-600 hover:bg-red-700 text-white rounded-full w-12 h-12 flex items-center justify-center",whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>a("heavy"),children:"âš”ï¸"}),e.jsx(d.button,{className:"btn-touch bg-blue-600 hover:bg-blue-700 text-white rounded-full w-12 h-12 flex items-center justify-center",whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>a("medium"),children:"ðŸ›¡ï¸"}),e.jsx(d.button,{className:"btn-touch bg-green-600 hover:bg-green-700 text-white rounded-full w-12 h-12 flex items-center justify-center",whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>a("light"),children:"ðŸ§ª"})]}),s&&e.jsx("div",{className:"absolute bottom-4 left-4 right-4 text-center",children:e.jsx("p",{className:"text-xs text-dark-400",children:"Tap to interact â€¢ Swipe to move â€¢ Double tap for special actions"})})]})}const k=[{id:"1",name:"Iron Sword",icon:"âš”ï¸",quantity:1,rarity:"common",description:"A basic iron sword"},{id:"2",name:"Health Potion",icon:"ðŸ§ª",quantity:5,rarity:"common",description:"Restores 50 HP"},{id:"3",name:"Magic Staff",icon:"ðŸª„",quantity:1,rarity:"rare",description:"Increases magic power"},{id:"4",name:"Shield",icon:"ðŸ›¡ï¸",quantity:1,rarity:"uncommon",description:"Provides defense"},{id:"5",name:"Dragon Scale",icon:"ðŸ‰",quantity:3,rarity:"epic",description:"Rare crafting material"},{id:"6",name:"Ancient Artifact",icon:"ðŸº",quantity:1,rarity:"legendary",description:"Mysterious power"}];function ie(){const[t,n]=h.useState(null),[i,o]=h.useState("grid"),{hapticFeedback:s}=v({onTap:()=>{s("light")}}),l=a=>{switch(a){case"common":return"border-gray-500";case"uncommon":return"border-green-500";case"rare":return"border-blue-500";case"epic":return"border-purple-500";case"legendary":return"border-yellow-500";default:return"border-gray-500"}};return e.jsxs(d.div,{className:"h-full bg-dark-900 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Inventory"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>o("grid"),className:`btn-touch px-3 py-1 rounded ${i==="grid"?"bg-primary-500":"bg-dark-700"}`,children:"Grid"}),e.jsx("button",{onClick:()=>o("list"),className:`btn-touch px-3 py-1 rounded ${i==="list"?"bg-primary-500":"bg-dark-700"}`,children:"List"})]})]}),e.jsx("div",{className:"bg-dark-800 rounded-lg p-3 mb-4",children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-dark-400",children:["Items: ",k.length,"/50"]}),e.jsx("span",{className:"text-dark-400",children:"Weight: 25.5/100 kg"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto momentum-scroll",children:i==="grid"?e.jsx("div",{className:"grid grid-cols-4 gap-2 sm:grid-cols-6 md:grid-cols-8",children:k.map(a=>e.jsxs(d.div,{className:`card p-2 border-2 ${l(a.rarity)} cursor-pointer relative`,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{n(a),s("light")},children:[e.jsx("div",{className:"text-2xl text-center mb-1",children:a.icon}),e.jsx("div",{className:"text-xs text-center text-white truncate",children:a.name}),a.quantity>1&&e.jsx("div",{className:"absolute top-1 right-1 bg-primary-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:a.quantity})]},a.id))}):e.jsx("div",{className:"space-y-2",children:k.map(a=>e.jsxs(d.div,{className:`card p-3 border-l-4 ${l(a.rarity)} cursor-pointer flex items-center space-x-3`,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{n(a),s("light")},children:[e.jsx("div",{className:"text-2xl",children:a.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-white font-medium",children:a.name}),e.jsx("div",{className:"text-xs text-dark-400",children:a.description})]}),a.quantity>1&&e.jsx("div",{className:"bg-primary-500 text-white text-sm rounded-full px-2 py-1",children:a.quantity})]},a.id))})}),t&&e.jsx(d.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(null),children:e.jsxs(d.div,{className:"card p-6 max-w-sm w-full",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"text-4xl mb-2",children:t.icon}),e.jsx("h3",{className:"text-xl font-bold text-white",children:t.name}),e.jsx("p",{className:"text-sm text-dark-400 capitalize",children:t.rarity})]}),e.jsx("p",{className:"text-white mb-4",children:t.description}),t.quantity>1&&e.jsxs("p",{className:"text-sm text-dark-400 mb-4",children:["Quantity: ",t.quantity]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"btn-touch btn-primary flex-1",children:"Use"}),e.jsx("button",{className:"btn-touch btn-secondary flex-1",children:"Drop"})]})]})})]})}const p={level:25,experience:12500,experienceToNext:15e3,health:180,maxHealth:200,mana:85,maxMana:120,strength:28,dexterity:18,intelligence:22,constitution:25,wisdom:20,charisma:15};function ne(){const[t,n]=h.useState("stats"),{hapticFeedback:i}=v({onTap:()=>{i("light")}}),o=s=>s>=25?"text-red-400":s>=20?"text-orange-400":s>=15?"text-yellow-400":s>=10?"text-green-400":"text-gray-400";return e.jsxs(d.div,{className:"h-full bg-dark-900 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[e.jsx("div",{className:"card p-4 mb-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-primary-500 rounded-full flex items-center justify-center text-2xl",children:"ðŸ‘¤"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Hero"}),e.jsxs("p",{className:"text-sm text-dark-400",children:["Level ",p.level," Warrior"]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-dark-400 mb-1",children:[e.jsxs("span",{children:["XP: ",p.experience.toLocaleString()]}),e.jsxs("span",{children:["Next: ",p.experienceToNext.toLocaleString()]})]}),e.jsx("div",{className:"w-full h-2 bg-dark-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary-500 rounded-full transition-all duration-500",style:{width:`${p.experience/p.experienceToNext*100}%`}})})]})]})]})}),e.jsx("div",{className:"flex space-x-1 mb-4",children:["stats","skills","achievements"].map(s=>e.jsx("button",{onClick:()=>{n(s),i("light")},className:`btn-touch flex-1 py-2 rounded-lg font-medium capitalize ${t===s?"bg-primary-500 text-white":"bg-dark-700 text-dark-400 hover:bg-dark-600"}`,children:s},s))}),e.jsxs("div",{className:"flex-1 overflow-y-auto momentum-scroll",children:[t==="stats"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"card p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Resources"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-red-400",children:"â¤ï¸ Health"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 h-2 bg-dark-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${p.health/p.maxHealth*100}%`}})}),e.jsxs("span",{className:"text-sm text-white",children:[p.health,"/",p.maxHealth]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-400",children:"ðŸ’§ Mana"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 h-2 bg-dark-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${p.mana/p.maxMana*100}%`}})}),e.jsxs("span",{className:"text-sm text-white",children:[p.mana,"/",p.maxMana]})]})]})]})]}),e.jsxs("div",{className:"card p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Attributes"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{name:"Strength",value:p.strength,icon:"ðŸ’ª"},{name:"Dexterity",value:p.dexterity,icon:"ðŸƒ"},{name:"Intelligence",value:p.intelligence,icon:"ðŸ§ "},{name:"Constitution",value:p.constitution,icon:"ðŸ›¡ï¸"},{name:"Wisdom",value:p.wisdom,icon:"ðŸ”®"},{name:"Charisma",value:p.charisma,icon:"ðŸ’¬"}].map(s=>e.jsxs("div",{className:"flex items-center justify-between bg-dark-800 rounded-lg p-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:s.icon}),e.jsx("span",{className:"text-sm text-white",children:s.name})]}),e.jsx("span",{className:`text-lg font-bold ${o(s.value)}`,children:s.value})]},s.name))})]})]}),t==="skills"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"card p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Combat Skills"}),e.jsx("div",{className:"space-y-3",children:[{name:"Sword Fighting",level:15,icon:"âš”ï¸"},{name:"Archery",level:8,icon:"ðŸ¹"},{name:"Magic",level:12,icon:"ðŸ”®"},{name:"Defense",level:10,icon:"ðŸ›¡ï¸"}].map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-xl",children:s.icon}),e.jsx("span",{className:"text-white",children:s.name})]}),e.jsxs("span",{className:"text-primary-400 font-bold",children:["Lv.",s.level]})]},s.name))})]})}),t==="achievements"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"card p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Recent Achievements"}),e.jsx("div",{className:"space-y-3",children:[{name:"First Victory",description:"Win your first battle",icon:"ðŸ†",completed:!0},{name:"Explorer",description:"Visit 10 different zones",icon:"ðŸ—ºï¸",completed:!0},{name:"Collector",description:"Collect 50 items",icon:"ðŸŽ’",completed:!1},{name:"Master Warrior",description:"Reach level 50",icon:"âš”ï¸",completed:!1}].map(s=>e.jsxs("div",{className:`flex items-center space-x-3 p-2 rounded-lg ${s.completed?"bg-green-900/20 border border-green-500/20":"bg-dark-800"}`,children:[e.jsx("span",{className:"text-2xl",children:s.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-white font-medium",children:s.name}),e.jsx("div",{className:"text-xs text-dark-400",children:s.description})]}),s.completed&&e.jsx("div",{className:"text-green-400 text-sm",children:"âœ“"})]},s.name))})]})})]})]})}const re=[{id:"1",name:"Starting Village",x:20,y:80,type:"town",level:1,discovered:!0,completed:!0},{id:"2",name:"Goblin Cave",x:40,y:60,type:"dungeon",level:5,discovered:!0,completed:!0},{id:"3",name:"Ancient Forest",x:60,y:40,type:"resource",level:10,discovered:!0},{id:"4",name:"Dragon Lair",x:80,y:20,type:"boss",level:25,discovered:!0},{id:"5",name:"Hidden Temple",x:75,y:70,type:"dungeon",level:15,discovered:!1},{id:"6",name:"Crystal Mine",x:25,y:30,type:"resource",level:8,discovered:!0}];function le(){const[t,n]=h.useState(null),[i,o]=h.useState(1),[s,l]=h.useState({x:0,y:0}),{gestureHandler:a,hapticFeedback:r}=v({onTap:({point:c})=>{r("light"),console.log("Map tap at:",c)},onPinch:({scale:c})=>{o(Math.max(.5,Math.min(3,c)))},onDrag:({movement:c})=>{l(x=>({x:x.x+c[0],y:x.y+c[1]}))}},{pinchZoomEnabled:!0,dragScrollEnabled:!0}),b=c=>{switch(c){case"town":return"ðŸ˜ï¸";case"dungeon":return"ðŸ•³ï¸";case"boss":return"ðŸ‰";case"resource":return"â›ï¸";default:return"ðŸ“"}},m=(c,x,u)=>{if(!x)return"bg-gray-600";if(u)return"bg-green-600";switch(c){case"town":return"bg-blue-600";case"dungeon":return"bg-purple-600";case"boss":return"bg-red-600";case"resource":return"bg-yellow-600";default:return"bg-gray-600"}};return e.jsxs(d.div,{className:"h-full bg-dark-900 relative overflow-hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[e.jsx("div",{className:"absolute top-4 left-4 right-4 z-20",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"card p-2",children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"World Map"}),e.jsx("p",{className:"text-xs text-dark-400",children:"Level 1-25 Areas"})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsx("button",{onClick:()=>{o(1),l({x:0,y:0}),r("light")},className:"btn-touch bg-dark-700 text-white rounded-lg px-3 py-2",children:"Reset View"})})]})}),e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-green-900/20 to-brown-900/20",style:{transform:`scale(${i}) translate(${s.x}px, ${s.y}px)`,transformOrigin:"center"},...a(),children:[e.jsxs("div",{className:"absolute inset-0 opacity-30",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-1/3 bg-gradient-to-b from-gray-600 to-transparent"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1/3 bg-gradient-to-t from-green-600 to-transparent"}),e.jsx("div",{className:"absolute top-1/3 right-0 w-1/3 h-1/3 bg-gradient-to-l from-brown-600 to-transparent"})]}),re.map(c=>e.jsx(d.div,{className:`absolute w-12 h-12 rounded-full ${m(c.type,c.discovered,c.completed)} 
              border-2 border-white shadow-lg cursor-pointer flex items-center justify-center`,style:{left:`${c.x}%`,top:`${c.y}%`,transform:"translate(-50%, -50%)",opacity:c.discovered?1:.3},whileHover:{scale:1.2},whileTap:{scale:.9},onClick:()=>{n(c),r("medium")},children:e.jsx("span",{className:"text-lg",children:b(c.type)})},c.id)),e.jsx(d.div,{className:"absolute w-4 h-4 bg-primary-500 rounded-full border-2 border-white shadow-lg",style:{left:"20%",top:"80%",transform:"translate(-50%, -50%)"},animate:{scale:[1,1.2,1],opacity:[1,.7,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}),e.jsxs("div",{className:"absolute bottom-4 left-4 card p-3 max-w-xs",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-2",children:"Legend"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-primary-500 rounded-full"}),e.jsx("span",{className:"text-dark-400",children:"Your Location"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full"}),e.jsx("span",{className:"text-dark-400",children:"Town"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-600 rounded-full"}),e.jsx("span",{className:"text-dark-400",children:"Dungeon"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-600 rounded-full"}),e.jsx("span",{className:"text-dark-400",children:"Boss"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-600 rounded-full"}),e.jsx("span",{className:"text-dark-400",children:"Completed"})]})]})]}),t&&e.jsx(d.div,{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(null),children:e.jsxs(d.div,{className:"card p-6 max-w-sm w-full",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"text-4xl mb-2",children:b(t.type)}),e.jsx("h3",{className:"text-xl font-bold text-white",children:t.name}),e.jsxs("p",{className:"text-sm text-dark-400 capitalize",children:["Level ",t.level," ",t.type]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-400",children:"Status:"}),e.jsx("span",{className:`text-sm ${t.discovered?"text-green-400":"text-gray-400"}`,children:t.discovered?"Discovered":"Undiscovered"})]}),t.completed&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-400",children:"Progress:"}),e.jsx("span",{className:"text-green-400 text-sm",children:"Completed"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"btn-touch btn-primary flex-1",disabled:!t.discovered,children:"Travel"}),e.jsx("button",{className:"btn-touch btn-secondary",children:"Info"})]})]})})]})}function ce(){const[t,n]=h.useState({soundEnabled:!0,musicEnabled:!0,hapticEnabled:!0,autoSaveEnabled:!0,lowPowerMode:!1,notificationsEnabled:!0,language:"en",theme:"dark",orientation:"portrait"}),{hapticFeedback:i}=v({onTap:()=>{t.hapticEnabled&&i("light")}}),{lockPortrait:o,unlockOrientation:s}=A(),l=r=>{n(b=>({...b,[r]:!b[r]})),t.hapticEnabled&&i("light")},a=r=>{n(b=>({...b,orientation:r})),r==="portrait"?o():s()};return e.jsx(d.div,{className:"h-full bg-dark-900 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Audio"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white",children:"Sound Effects"}),e.jsx("button",{onClick:()=>l("soundEnabled"),className:`w-12 h-6 rounded-full transition-colors ${t.soundEnabled?"bg-primary-500":"bg-dark-600"}`,children:e.jsx("div",{className:`w-5 h-5 rounded-full bg-white transition-transform ${t.soundEnabled?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white",children:"Music"}),e.jsx("button",{onClick:()=>l("musicEnabled"),className:`w-12 h-6 rounded-full transition-colors ${t.musicEnabled?"bg-primary-500":"bg-dark-600"}`,children:e.jsx("div",{className:`w-5 h-5 rounded-full bg-white transition-transform ${t.musicEnabled?"translate-x-6":"translate-x-1"}`})})]})]})]}),e.jsxs("div",{className:"card p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Gameplay"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white",children:"Haptic Feedback"}),e.jsx("button",{onClick:()=>l("hapticEnabled"),className:`w-12 h-6 rounded-full transition-colors ${t.hapticEnabled?"bg-primary-500":"bg-dark-600"}`,children:e.jsx("div",{className:`w-5 h-5 rounded-full bg-white transition-transform ${t.hapticEnabled?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white",children:"Auto Save"}),e.jsx("button",{onClick:()=>l("autoSaveEnabled"),className:`w-12 h-6 rounded-full transition-colors ${t.autoSaveEnabled?"bg-primary-500":"bg-dark-600"}`,children:e.jsx("div",{className:`w-5 h-5 rounded-full bg-white transition-transform ${t.autoSaveEnabled?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white",children:"Low Power Mode"}),e.jsx("button",{onClick:()=>l("lowPowerMode"),className:`w-12 h-6 rounded-full transition-colors ${t.lowPowerMode?"bg-primary-500":"bg-dark-600"}`,children:e.jsx("div",{className:`w-5 h-5 rounded-full bg-white transition-transform ${t.lowPowerMode?"translate-x-6":"translate-x-1"}`})})]})]})]}),e.jsxs("div",{className:"card p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Display"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white",children:"Orientation"}),e.jsxs("select",{value:t.orientation,onChange:r=>a(r.target.value),className:"bg-dark-700 text-white rounded-lg px-3 py-1 border border-dark-600",children:[e.jsx("option",{value:"portrait",children:"Portrait"}),e.jsx("option",{value:"landscape",children:"Landscape"}),e.jsx("option",{value:"auto",children:"Auto"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white",children:"Theme"}),e.jsxs("select",{value:t.theme,onChange:r=>n(b=>({...b,theme:r.target.value})),className:"bg-dark-700 text-white rounded-lg px-3 py-1 border border-dark-600",children:[e.jsx("option",{value:"dark",children:"Dark"}),e.jsx("option",{value:"light",children:"Light"})]})]})]})]}),e.jsxs("div",{className:"card p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Account"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{className:"w-full btn-touch bg-dark-700 text-white rounded-lg py-3 text-left px-4",children:"ðŸ“§ Change Email"}),e.jsx("button",{className:"w-full btn-touch bg-dark-700 text-white rounded-lg py-3 text-left px-4",children:"ðŸ” Change Password"}),e.jsx("button",{className:"w-full btn-touch bg-dark-700 text-white rounded-lg py-3 text-left px-4",children:"ðŸ”„ Sync Data"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{className:"w-full btn-touch bg-green-600 hover:bg-green-700 text-white rounded-lg py-3",children:"ðŸ’¾ Save Settings"}),e.jsx("button",{className:"w-full btn-touch bg-red-600 hover:bg-red-700 text-white rounded-lg py-3",children:"ðŸšª Sign Out"})]})]})]})})}function oe(){const[t,n]=h.useState(!0),[i,o]=h.useState(!1),{orientation:s,isTransitioning:l,getOrientationStyles:a}=A({lockPortrait:!0,adaptiveUI:!0,transitionDuration:300}),r=S();return h.useEffect(()=>{(async()=>{try{await new Promise(m=>setTimeout(m,1e3)),o(!0),n(!1)}catch(m){console.error("App initialization failed:",m),n(!1)}})()},[]),h.useEffect(()=>{r&&s==="landscape"&&console.log("Landscape mode detected on mobile")},[r,s]),t?e.jsx(te,{}):e.jsx(se,{children:e.jsx(ee,{children:e.jsxs(d.div,{className:"min-h-screen bg-dark-900 flex flex-col",style:a(),initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[e.jsx(_,{}),e.jsx("main",{className:"flex-1 overflow-hidden",children:e.jsx(U,{mode:"wait",children:e.jsxs(z,{children:[e.jsx(j,{path:"/",element:e.jsx(L,{to:"/game",replace:!0})}),e.jsx(j,{path:"/game",element:e.jsx(ae,{})}),e.jsx(j,{path:"/inventory",element:e.jsx(ie,{})}),e.jsx(j,{path:"/character",element:e.jsx(ne,{})}),e.jsx(j,{path:"/map",element:e.jsx(le,{})}),e.jsx(j,{path:"/settings",element:e.jsx(ce,{})}),e.jsx(j,{path:"*",element:e.jsx(L,{to:"/game",replace:!0})})]})})}),e.jsx(J,{}),l&&e.jsx(d.div,{className:"fixed inset-0 bg-dark-900 bg-opacity-50 z-50 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsxs("div",{className:"text-white text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:"âš¡"}),e.jsx("div",{children:"Adjusting display..."})]})})]})})})}const de=new H({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:5*60*1e3,gcTime:10*60*1e3}}});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});Q.createRoot(document.getElementById("root")).render(e.jsx(h.StrictMode,{children:e.jsx(q,{client:de,children:e.jsx(F,{children:e.jsx(oe,{})})})}));
