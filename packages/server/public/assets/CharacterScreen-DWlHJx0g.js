import{j as e}from"./query-vendor-VBf2NspY.js";import{r as c}from"./router-vendor-Cn6bChYk.js";import{b as k,a as C}from"./index-DUBnp2Sp.js";import"./react-vendor-BtP0CW_r.js";import"./gesture-vendor-CKK3uJth.js";function p(a){if(a<=1)return 0n;const x=100n,m=115n;let l=x;for(let r=2;r<a;r++)l=l*m/100n;return l}function $(){const[a,x]=c.useState("stats"),[m,l]=c.useState(!0),[r,j]=c.useState(null),[t,h]=c.useState(null),{currentCharacter:i,characterList:o,getCharacter:v,getCharacters:b}=k(),{hapticFeedback:f}=C({onTap:()=>{f("light")}});c.useEffect(()=>{u()},[]),c.useEffect(()=>{i&&!t&&h(i)},[i,t]);const u=async()=>{try{if(l(!0),j(null),await b(),i)h(i);else if(o&&o.size>0){const s=Array.from(o.keys())[0],d=await v(s);h(d)}}catch(s){j(s instanceof Error?s.message:"Failed to load character data")}finally{l(!1)}},g=s=>s>=25?"text-red-400":s>=20?"text-orange-400":s>=15?"text-yellow-400":s>=10?"text-green-400":"text-gray-400",y=s=>{const d=BigInt(s.experience),w=p(s.level+1),N=p(s.level);return{current:Number(d-N),toNext:Number(w-N),total:Number(d)}};if(m)return e.jsx("div",{className:"h-full bg-dark-900 p-4 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-4 animate-spin",children:"‚öîÔ∏è"}),e.jsx("p",{className:"text-white",children:"Loading character data..."})]})});if(r)return e.jsx("div",{className:"h-full bg-dark-900 p-4 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:"‚ö†Ô∏è"}),e.jsx("p",{className:"text-red-400 mb-4",children:r}),e.jsx("button",{onClick:u,className:"btn-touch btn-primary",children:"Retry"})]})});if(!t)return e.jsx("div",{className:"h-full bg-dark-900 p-4 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:"üë§"}),e.jsx("p",{className:"text-white mb-4",children:"No character data available"}),e.jsx("button",{onClick:u,className:"btn-touch btn-primary",children:"Load Character"})]})});const n=y(t);return e.jsxs("div",{className:"h-full bg-dark-900 p-4",children:[e.jsx("div",{className:"card p-4 mb-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-primary-500 rounded-full flex items-center justify-center text-2xl",children:"üë§"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),e.jsxs("p",{className:"text-sm text-dark-400",children:["Level ",t.level," ",t.race]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-dark-400 mb-1",children:[e.jsxs("span",{children:["XP: ",n.total.toLocaleString()]}),e.jsxs("span",{children:["Progress: ",n.current.toLocaleString()," / ",n.toNext.toLocaleString()]})]}),e.jsx("div",{className:"w-full h-2 bg-dark-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary-500 rounded-full transition-all duration-500",style:{width:`${n.current/n.toNext*100}%`}})})]})]})]})}),e.jsx("div",{className:"flex space-x-1 mb-4",children:["stats","skills","achievements"].map(s=>e.jsx("button",{onClick:()=>{x(s),f("light")},className:`btn-touch flex-1 py-2 rounded-lg font-medium capitalize ${a===s?"bg-primary-500 text-white":"bg-dark-700 text-dark-400 hover:bg-dark-600"}`,children:s},s))}),e.jsxs("div",{className:"flex-1 overflow-y-auto momentum-scroll",children:[a==="stats"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"card p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Resources"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-red-400",children:"‚ù§Ô∏è Health"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 h-2 bg-dark-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${t.health/t.maxHealth*100}%`}})}),e.jsxs("span",{className:"text-sm text-white",children:[t.health,"/",t.maxHealth]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-400",children:"üíß Mana"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 h-2 bg-dark-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${t.mana/t.maxMana*100}%`}})}),e.jsxs("span",{className:"text-sm text-white",children:[t.mana,"/",t.maxMana]})]})]})]})]}),e.jsxs("div",{className:"card p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Attributes"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{name:"Strength",value:t.stats.strength,icon:"üí™"},{name:"Dexterity",value:t.stats.dexterity,icon:"üèÉ"},{name:"Intelligence",value:t.stats.intelligence,icon:"üß†"},{name:"Vitality",value:t.stats.vitality,icon:"üõ°Ô∏è"},{name:"Wisdom",value:t.stats.wisdom,icon:"üîÆ"}].map(s=>e.jsxs("div",{className:"flex items-center justify-between bg-dark-800 rounded-lg p-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:s.icon}),e.jsx("span",{className:"text-sm text-white",children:s.name})]}),e.jsx("span",{className:`text-lg font-bold ${g(s.value)}`,children:s.value})]},s.name))})]})]}),a==="skills"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"card p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Combat Skills"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"text-center text-dark-400 py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"üéØ"}),e.jsx("p",{children:"Skills system coming soon!"}),e.jsx("p",{className:"text-sm mt-2",children:"Train your abilities to unlock new skills"})]})})]})}),a==="achievements"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"card p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Recent Achievements"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"text-center text-dark-400 py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"üèÜ"}),e.jsx("p",{children:"Achievements system coming soon!"}),e.jsx("p",{className:"text-sm mt-2",children:"Complete quests and challenges to earn achievements"})]})})]})})]})]})}export{$ as CharacterScreen};
