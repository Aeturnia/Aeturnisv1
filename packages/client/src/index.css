@tailwind base;
@tailwind components;
@tailwind utilities;

/* Mobile-first base styles */
@layer base {
  :root {
    /* CSS custom properties for safe areas */
    --safe-area-inset-top: env(safe-area-inset-top);
    --safe-area-inset-right: env(safe-area-inset-right);
    --safe-area-inset-bottom: env(safe-area-inset-bottom);
    --safe-area-inset-left: env(safe-area-inset-left);
    
    /* Game theme colors */
    --color-primary: #00bcd4;
    --color-primary-dark: #0097a7;
    --color-bg-primary: #0f172a;
    --color-bg-secondary: #1e293b;
    --color-text-primary: #f8fafc;
    --color-text-secondary: #cbd5e1;
  }
  
  html {
    /* Fix for iOS viewport units */
    height: -webkit-fill-available;
  }
  
  body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: var(--color-bg-primary);
    color: var(--color-text-primary);
    
    /* Prevent overscroll bounce on iOS */
    overscroll-behavior: none;
    
    /* Mobile-specific touch handling */
    touch-action: pan-x pan-y;
    
    /* Fix for iOS Safari 100vh issue */
    min-height: 100vh;
    min-height: -webkit-fill-available;
  }
  
  #root {
    min-height: 100vh;
    min-height: -webkit-fill-available;
    display: flex;
    flex-direction: column;
  }
  
  /* Prevent text selection on game elements */
  .no-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
  
  /* Allow text selection in input fields */
  input, textarea {
    -webkit-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    user-select: text;
  }
}

/* Mobile-optimized components */
@layer components {
  .btn-touch {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 44px;
    min-width: 44px;
    border-radius: 0.5rem;
    font-weight: 500;
    transition: all 150ms;
  }
  
  .btn-touch:active {
    transform: scale(0.95);
  }
  
  .btn-touch:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgba(0, 188, 212, 0.5);
  }
  
  .btn-primary {
    background-color: #00bcd4;
    color: white;
  }
  
  .btn-primary:hover {
    background-color: #00acc1;
  }
  
  .btn-secondary {
    background-color: #334155;
    color: white;
    border: 1px solid #475569;
  }
  
  .btn-secondary:hover {
    background-color: #475569;
  }
  
  .card {
    background-color: #1e293b;
    border-radius: 0.5rem;
    border: 1px solid #334155;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }
  
  .input-field {
    width: 100%;
    padding: 0.75rem 1rem;
    background-color: #334155;
    border: 1px solid #475569;
    border-radius: 0.5rem;
    color: white;
    font-size: 1rem; /* Prevent zoom on iOS */
  }
  
  .input-field::placeholder {
    color: #94a3b8;
  }
  
  .input-field:focus {
    outline: none;
    border-color: #00bcd4;
  }
  
  .safe-area-padding {
    padding-top: var(--safe-area-inset-top);
    padding-right: var(--safe-area-inset-right);
    padding-bottom: var(--safe-area-inset-bottom);
    padding-left: var(--safe-area-inset-left);
  }
  
  .safe-area-margin {
    margin-top: var(--safe-area-inset-top);
    margin-right: var(--safe-area-inset-right);
    margin-bottom: var(--safe-area-inset-bottom);
    margin-left: var(--safe-area-inset-left);
  }
}

/* Utilities */
@layer utilities {
  .text-shadow {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
  }
  
  .backdrop-blur-game {
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }
  
  /* Mobile-specific utilities */
  .touch-manipulation {
    touch-action: manipulation;
  }
  
  .no-tap-highlight {
    -webkit-tap-highlight-color: transparent;
  }
  
  .momentum-scroll {
    -webkit-overflow-scrolling: touch;
  }
}

/* Responsive typography */
@screen xs {
  .responsive-text {
    font-size: 0.875rem;
  }
}

@screen sm {
  .responsive-text {
    font-size: 1rem;
  }
}

@screen md {
  .responsive-text {
    font-size: 1.125rem;
  }
}