@tailwind base;
@tailwind components;
@tailwind utilities;

/* Mobile-first base styles */
@layer base {
  :root {
    /* CSS custom properties for safe areas */
    --safe-area-inset-top: env(safe-area-inset-top);
    --safe-area-inset-right: env(safe-area-inset-right);
    --safe-area-inset-bottom: env(safe-area-inset-bottom);
    --safe-area-inset-left: env(safe-area-inset-left);
    
    /* Game theme colors */
    --color-primary: #00bcd4;
    --color-primary-dark: #0097a7;
    --color-bg-primary: #0f172a;
    --color-bg-secondary: #1e293b;
    --color-text-primary: #f8fafc;
    --color-text-secondary: #cbd5e1;
  }
  
  html {
    /* Fix for iOS viewport units */
    height: -webkit-fill-available;
  }
  
  body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: var(--color-bg-primary);
    color: var(--color-text-primary);
    
    /* Prevent overscroll bounce on iOS */
    overscroll-behavior: none;
    
    /* Mobile-specific touch handling */
    touch-action: pan-x pan-y;
    
    /* Fix for iOS Safari 100vh issue */
    min-height: 100vh;
    min-height: -webkit-fill-available;
  }
  
  #root {
    min-height: 100vh;
    min-height: -webkit-fill-available;
    display: flex;
    flex-direction: column;
  }
  
  /* Prevent text selection on game elements */
  .no-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
  
  /* Allow text selection in input fields */
  input, textarea {
    -webkit-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    user-select: text;
  }
}

/* Mobile-optimized components */
@layer components {
  .btn-touch {
    @apply min-h-touch min-w-touch flex items-center justify-center;
    @apply rounded-lg font-medium transition-all duration-150;
    @apply active:scale-95 focus:outline-none focus:ring-2 focus:ring-primary-500;
  }
  
  .btn-primary {
    @apply bg-primary-500 hover:bg-primary-600 text-white;
  }
  
  .btn-secondary {
    @apply bg-dark-700 hover:bg-dark-600 text-white border border-dark-600;
  }
  
  .card {
    @apply bg-dark-800 rounded-lg border border-dark-700 shadow-lg;
  }
  
  .input-field {
    @apply w-full px-4 py-3 bg-dark-700 border border-dark-600 rounded-lg;
    @apply text-white placeholder-dark-400 focus:outline-none focus:border-primary-500;
    @apply text-base; /* Prevent zoom on iOS */
  }
  
  .safe-area-padding {
    padding-top: var(--safe-area-inset-top);
    padding-right: var(--safe-area-inset-right);
    padding-bottom: var(--safe-area-inset-bottom);
    padding-left: var(--safe-area-inset-left);
  }
  
  .safe-area-margin {
    margin-top: var(--safe-area-inset-top);
    margin-right: var(--safe-area-inset-right);
    margin-bottom: var(--safe-area-inset-bottom);
    margin-left: var(--safe-area-inset-left);
  }
}

/* Utilities */
@layer utilities {
  .text-shadow {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
  }
  
  .backdrop-blur-game {
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }
  
  /* Mobile-specific utilities */
  .touch-manipulation {
    touch-action: manipulation;
  }
  
  .no-tap-highlight {
    -webkit-tap-highlight-color: transparent;
  }
  
  .momentum-scroll {
    -webkit-overflow-scrolling: touch;
  }
}

/* Responsive typography */
@screen xs {
  .responsive-text {
    font-size: 0.875rem;
  }
}

@screen sm {
  .responsive-text {
    font-size: 1rem;
  }
}

@screen md {
  .responsive-text {
    font-size: 1.125rem;
  }
}